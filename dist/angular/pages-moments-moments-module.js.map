{"version":3,"sources":["webpack:///./src/app/pages/moments/moments.component.html","webpack:///./src/app/pages/moments/moments.component.scss","webpack:///./src/app/pages/moments/moments.component.ts","webpack:///./src/app/pages/moments/moments.module.ts","webpack:///./src/app/pages/moments/moments.routing.module.ts"],"names":[],"mappings":"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","file":"pages-moments-moments-module.js","sourcesContent":["module.exports = \"<div class=\\\"moments\\\">\\r\\n  <div class=\\\"header\\\">\\r\\n    <app-header-button btnColor=\\\"transparent\\\" [imgSrc]=\\\"imgBack\\\" [style]='styleBack' [href]=\\\"backHref\\\"></app-header-button>\\r\\n    <app-header-button btnColor=\\\"transparent\\\" *ngIf=\\\"id==='me'\\\" [imgSrc]=\\\"imgCamera\\\" [href]=\\\"hrefCamera\\\" [style]=\\\"styleCamera\\\"></app-header-button>\\r\\n  </div>\\r\\n  <div class=\\\"body\\\">\\r\\n    <img class=\\\"bg\\\" src=\\\"{{imgBaseUrl}}moments/{{moments.bg}}\\\" alt=\\\"\\\">\\r\\n    <div class=\\\"user-avatar\\\">\\r\\n      <div class=\\\"nickName\\\" [ngStyle]=\\\"{'top':avatarTop-30+'px'}\\\">{{name}}</div>\\r\\n      <img src=\\\"{{imgBaseUrl}}avatar/{{avatar}}\\\" routerLink=\\\"/userDetail/{{id}}/{{name}}/{{avatar}}\\\" alt=\\\"\\\" [ngStyle]=\\\"{'top':avatarTop-50+'px'}\\\">\\r\\n    </div>\\r\\n    <div class=\\\"moment-items\\\">\\r\\n      <div class=\\\"moment clearfix\\\" *ngFor=\\\"let item of moments.moments\\\">\\r\\n        <div class=\\\"clearfix\\\">\\r\\n          <div *ngIf=\\\"id==='me' else elseTemplate\\\">\\r\\n            <img class=\\\"moment-avatar left\\\" routerLink=\\\"/userDetail/{{item.id}}/{{item.name}}/{{item.avatar}}\\\" src=\\\"{{imgBaseUrl}}avatar/{{item.avatar}}\\\"\\r\\n              (touched)=\\\"jumpToUserDetail()\\\" />\\r\\n          </div>\\r\\n          <ng-template #elseTemplate>\\r\\n            <div class=\\\"others left\\\">\\r\\n              <div class=\\\"time\\\">\\r\\n                <span class=\\\"time0\\\">{{item.time[0]}}</span>\\r\\n                <span class=\\\"time1\\\" *ngIf=\\\"item.time[1]\\\">\\r\\n                    {{item.time[1]}}月\\r\\n                </span>\\r\\n              </div>\\r\\n              <div class=\\\"area\\\">{{item.area}}</div>\\r\\n            </div>\\r\\n          </ng-template>\\r\\n          <div class=\\\"left second\\\">\\r\\n            <div class=\\\"uname\\\">{{item.name}}</div>\\r\\n            <!-- TODO:info:这里有一个坑,如果ngSwitchCase的值是一个字符串,那么就要用单引号'包含起来 -->\\r\\n            <div [ngSwitch]=\\\"item.type\\\">\\r\\n              <div *ngSwitchCase=\\\"'img'\\\">\\r\\n                <img class=\\\"item-img\\\" src=\\\"{{imgBaseUrl}}moments/{{item.item}}\\\" alt=\\\"\\\">\\r\\n              </div>\\r\\n              <div *ngSwitchCase=\\\"'imgs'\\\" class=\\\"clearfix\\\">\\r\\n                <img class=\\\"imgGroup\\\" *ngFor=\\\"let pic of item.item\\\" src=\\\"{{imgBaseUrl}}moments/{{pic}}\\\" />\\r\\n              </div>\\r\\n              <div *ngSwitchCase=\\\"'text'\\\" class=\\\"text\\\">\\r\\n                {{item.item}}\\r\\n              </div>\\r\\n              <div *ngSwitchCase=\\\"'news'\\\" class=\\\"clearfix news\\\">\\r\\n                <img class=\\\"left\\\" src=\\\"{{imgBaseUrl}}moments/{{item.thumb}}\\\" alt=\\\"\\\">\\r\\n                <div class=\\\"text left\\\">{{item.item}}</div>\\r\\n              </div>\\r\\n              <div *ngSwitchDefault></div>\\r\\n            </div>\\r\\n            <div [hidden]=\\\"id!=='me'\\\">\\r\\n              <div class=\\\"time left\\\">{{item.time}}</div>\\r\\n              <div class=\\\"button right\\\">\\r\\n                <img src=\\\"{{imgBaseUrl}}moments/comment.png\\\" alt=\\\"\\\">\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div [hidden]=\\\"id==='me'\\\">\\r\\n            <div style=\\\"width:100%;height:20px\\\"></div>\\r\\n          </div>\\r\\n        <div [hidden]=\\\"id!=='me'\\\">\\r\\n          <hr>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div [hidden]=\\\"id=='me'\\\" class=\\\"momoent-end\\\">- 朋友仅展示最近三天的朋友圈 -</div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\"","module.exports = \".moments .header {\\n  background-color: transparent; }\\n\\n.moments .body .bg {\\n  width: 100%; }\\n\\n.moments .body .user-avatar .nickName {\\n  position: absolute;\\n  right: 110px;\\n  font-weight: bold;\\n  color: #fff; }\\n\\n.moments .body .user-avatar img {\\n  width: 80px;\\n  padding: 2px;\\n  border: 1px solid #C0C0C880;\\n  position: absolute;\\n  right: 15px;\\n  background-color: #fff; }\\n\\n.moments .body .moment-items {\\n  margin-top: 30px; }\\n\\n.moments .body .moment-items .moment .moment-avatar {\\n    width: 15%;\\n    margin: 3%; }\\n\\n.moments .body .moment-items .moment .uname {\\n    margin-bottom: 5px;\\n    color: #778298;\\n    margin-top: 10px;\\n    font-size: 18px; }\\n\\n.moments .body .moment-items .moment .item-img {\\n    width: 200px; }\\n\\n.moments .body .moment-items .moment .second {\\n    width: 75%; }\\n\\n.moments .body .moment-items .moment .time {\\n    color: #878787;\\n    margin-top: 10px; }\\n\\n.moments .body .moment-items .moment .button {\\n    margin-top: 10px; }\\n\\n.moments .body .moment-items .moment .button img {\\n      width: 20px;\\n      vertical-align: middle; }\\n\\n.moments .body .moment-items .moment .imgGroup {\\n    width: 38%;\\n    margin: 1%;\\n    display: block;\\n    float: left; }\\n\\n.moments .body .moment-items .moment .news {\\n    background-color: #f3f3f3;\\n    height: 50px; }\\n\\n.moments .body .moment-items .moment .news img {\\n      width: 13%;\\n      height: 40px;\\n      margin: 2%; }\\n\\n.moments .body .moment-items .moment .news .text {\\n      width: 80%;\\n      display: -webkit-box;\\n      -webkit-line-clamp: 2;\\n      overflow: hidden; }\\n\\n.moments .body .moment-items .moment .text {\\n    background-color: #f3f3f3;\\n    font-size: 14px;\\n    margin-top: 10px; }\\n\\n.moments .body .moment-items .moment .others {\\n    margin-right: 10px;\\n    margin-left: 10px; }\\n\\n.moments .body .moment-items .moment .others .time {\\n      font-size: 20px;\\n      color: #000; }\\n\\n.moments .body .moment-items .moment .others .time span {\\n        text-align: left; }\\n\\n.moments .body .moment-items .moment .others .time .time1 {\\n        font-size: 14px; }\\n\\n.moments .body .moment-items .moment .others .area {\\n      font-size: 14px;\\n      color: #878787; }\\n\\n.moments .body .moment-items .momoent-end {\\n    text-align: center;\\n    font-size: 14px;\\n    color: #878787;\\n    margin: 20px 0; }\\n\\n.moments .body .left-section {\\n  float: left; }\\n\\nhr {\\n  margin: 10px 0;\\n  border: none;\\n  padding: 0;\\n  height: 0px;\\n  border-top: 1px solid #D8D8D8; }\\n\"","import { Component, OnInit, Inject, AfterViewInit } from '@angular/core';\r\nimport { Router, ActivatedRoute, Params } from '@angular/router';\r\nimport { leftInRightLeave } from '../../anim/translateX';\r\nimport { MomentsService } from '../../services/moments.service';\r\n@Component({\r\n  selector: 'app-moments',\r\n  templateUrl: './moments.component.html',\r\n  styleUrls: ['./moments.component.scss'],\r\n  animations: [leftInRightLeave],\r\n  host: { '[@leftInRightLeave]': '' }\r\n})\r\nexport class MomentsComponent implements OnInit {\r\n\r\n  imgBack: string = \"./assets/images/headers/back.png\";\r\n  backHref: string = \"back\";\r\n  styleBack = { 'background-color': 'transparent', 'position': 'absolute', 'top': '0', 'left': '0' };\r\n  imgCamera: string = \"./assets/images/moments/camera.png\";\r\n  hrefCamera: string = \"others\";\r\n  styleCamera = { 'position': 'absolute', 'top': '0', 'right': '0px', \"background-color\": \"transparent\" };\r\n\r\n  id: string = \"\";\r\n  name: string = \"\";\r\n  avatar: string = \"\";\r\n  imgUrl: string = \"\";\r\n\r\n  imgBaseUrl: string;\r\n  moments: object = {};\r\n\r\n  //头像高度:图片高度-40px\r\n  avatarTop: number = 0;\r\n  constructor(@Inject('BASE_CONFIG') private config, private router: Router, private activatedRoute: ActivatedRoute, private momentsService$: MomentsService) { }\r\n\r\n  ngOnInit() {\r\n    this.imgBaseUrl = this.config.imgBaseUrl;\r\n    this.activatedRoute.params.subscribe((params: Params) => {\r\n      this.id = params['id'];\r\n      this.name = params['name'];\r\n      this.avatar = params['avatar'];\r\n      this.momentsService$.getMoments().subscribe(data => {\r\n        if (data[this.id] === \"me\") {\r\n          this.moments = data[\"me\"];\r\n        } else if (data[this.id]) {\r\n          this.moments = data[this.id];\r\n        } else {\r\n          this.moments = data['other'];\r\n          this.id = \"other\";\r\n        }\r\n\r\n        //TODO:bug:不知道如何使用ng监听图片加载完成的事件\r\n        let self=this;\r\n        setTimeout(function () {\r\n          self.avatarTop = $(\".bg\").height();\r\n        },120);\r\n      });\r\n    });\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { MomentsComponent } from './moments.component';\r\nimport { MomentsRoutingModule } from './moments.routing.module';\r\nimport {SharedModule} from '../../components/index';\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    MomentsRoutingModule,\r\n    SharedModule\r\n  ],\r\n  declarations: [MomentsComponent]\r\n})\r\nexport class MomentsModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { MomentsComponent } from './moments.component';\r\n\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: MomentsComponent }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class MomentsRoutingModule {}\r\n"],"sourceRoot":""}